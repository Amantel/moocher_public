{"version":3,"sources":["webpack:///./src/components/moocherBlock.js","webpack:///./src/pages/moochers.js","webpack:///./node_modules/core-js/modules/es6.function.name.js"],"names":["dateOptions","weekday","year","month","day","Block","props","_React$Component","call","this","render","obj","index","react_default","a","createElement","key","className","style","backgroundImage","publicURL","src","placesText","datetime","toLocaleDateString","React","Component","__webpack_exports__","_ref","data","RE_FILE","moocherImages","allFile","edges","map","_ref2","node","name","extension","Date","places","matchObj","exec","split","p","toLowerCase","s","charAt","toUpperCase","substring","join","layout","components_moocherBlock","query","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","configurable","get","match","e"],"mappings":"oKAKIA,sBAAc,CAAEC,QAAS,OAAQC,KAAM,UAAWC,MAAO,OAAQC,IAAK,YAqB3DC,cAlBb,SAAAA,EAAYC,GAAO,OACjBC,EAAAC,KAAAC,KAAMH,IADWG,iCAGnBC,kBACE,IAAMC,EAAMF,KAAKH,MAAMK,IACjBC,EAAQH,KAAKH,MAAMM,MAEzB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,IAAKJ,EAAOK,UAAU,gBAAgBC,MAAO,CAACC,gBAAiB,OAASR,EAAIS,UAAY,MACzFP,EAAAC,EAAAC,cAAA,OAAKM,IAAKV,EAAIS,YAAYP,EAAAC,EAAAC,cAAA,WAC1BF,EAAAC,EAAAC,cAAA,QAAME,UAAU,uBAAuBN,EAAIW,YAF/C,IAEkET,EAAAC,EAAAC,cAAA,WAC9DF,EAAAC,EAAAC,cAAA,QAAME,UAAU,0BAA0BN,EAAIY,SAASC,mBAAmB,QAASxB,SAZzEyB,IAAMC,+CCFXC,EAAA,iBAAAC,GAAc,IAAXC,EAAWD,EAAXC,KACVC,EAAU,aAShB,IAEMC,EAAgBF,EAAKG,QAAQC,MAAMC,IAAI,SAAAC,GAAa,IAAVC,EAAUD,EAAVC,KAExCC,EAAOD,EAAKC,KACZC,EAAYF,EAAKE,UACjBlB,EAAYgB,EAAKhB,UACnBG,EAAW,IAAIgB,KACfC,EAAS,GACTlB,EAAa,GACXmB,EAAWX,EAAQY,KAAKL,GAc9B,OAbGI,IAEDnB,GADAkB,EAASC,EAAS,GAAGE,MAAM,KAAKT,IAAI,SAAAU,GAAC,OAAmBA,EAlB5CC,cACXF,MAAM,KACNT,IAAI,SAAAY,GAAC,OAAIA,EAAEC,OAAO,GAAGC,cAAgBF,EAAEG,UAAU,KACjDC,KAAK,QAgBcA,KAAK,MACzB3B,EAAW,IAAIgB,KAAKE,EAAS,KAEnB,CACVJ,OACAC,YACAf,WACAiB,SACAlB,aACAF,eAMJ,OACEP,EAAAC,EAAAC,cAACoC,EAAA,EAAD,KAEAtC,EAAAC,EAAAC,cAAA,WACOgB,EAAcG,IAAI,SAACvB,EAAMC,GAAP,OACjBC,EAAAC,EAAAC,cAACqC,EAAD,CAAezC,IAAKA,EAAKC,MAAOA,SA3C7B,IAoDFyC,EAAK,iCCzDlB,IAAAC,EAASC,EAAQ,IAAcC,EAC/BC,EAAAC,SAAAC,UACAC,EAAA,wBACA,SAGAH,GAAkBF,EAAQ,KAAgBD,EAAAG,EAH1C,OAG0C,CAC1CI,cAAA,EACAC,IAAA,WACA,IACA,UAAArD,MAAAsD,MAAAH,GAAA,GACK,MAAAI,GACL","file":"component---src-pages-moochers-js-6c58834754ba47e08d28.js","sourcesContent":["import { Link } from 'gatsby'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport './moocherBlock.css'\n\nvar dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\nclass Block extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const obj = this.props.obj;\n    const index = this.props.index;\n\n    return (\n      <div key={index} className='moocher-block' style={{backgroundImage: \"url(\" + obj.publicURL + \")\"}} >\n          <img src={obj.publicURL}/><br/>\n          <span className='moocher-block-place'>{obj.placesText}</span> <br/>\n          <span className='moocher-block-datetime'>{obj.datetime.toLocaleDateString(\"ru-RU\", dateOptions)}</span>\n      </div>\n    );\n  }\n}\n\n\nexport default Block\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport Img from 'gatsby-image'\nimport MoocherBlock from \"../components/moocherBlock\";\nexport default ({ data }) => {\n  const RE_FILE = /(.*)\\|(.*)/;\n\n  function capitalizeString(string) {\n    return string.toLowerCase()\n      .split(' ')\n      .map(s => s.charAt(0).toUpperCase() + s.substring(1))\n      .join(' ');\n  }\n\n  var dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n  const moocherImages = data.allFile.edges.map(({ node })=> {\n\n    const name = node.name;\n    const extension = node.extension;\n    const publicURL = node.publicURL;\n    let datetime = new Date();\n    let places = [];\n    let placesText = '';\n    const matchObj = RE_FILE.exec(name);\n    if(matchObj) {\n      places = matchObj[1].split('_').map(p=>capitalizeString(p));\n      placesText = places.join(', ');\n      datetime = new Date(matchObj[2]);\n    }\n    const obj = {\n      name,\n      extension,\n      datetime,\n      places,\n      placesText,\n      publicURL\n    };\n    return obj;\n\n  });\n  //style={{backgroundImage: \"url(\" + obj.publicURL + \")\"}}\n  return (\n    <Layout>\n\n    <div>\n          {moocherImages.map((obj , index) => (\n            <MoocherBlock  obj={obj} index={index}/>\n          ))}\n\n    </div>\n    </Layout>\n\n  )\n}\n\nexport const query = graphql`\n  query {\n  allFile(filter: { sourceInstanceName: { eq: \"moocher-faces\" } }) {\n    edges {\n      node {\n        name\n        extension\n        publicURL\n      }\n    }\n  }\n}\n`\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n"],"sourceRoot":""}